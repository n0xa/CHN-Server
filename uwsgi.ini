[uwsgi]
# Application settings
module = wsgi:application

# Process settings
master = true
processes = 4
threads = 2
enable-threads = true

# Network settings
http = 0.0.0.0:5000
http-timeout = 600
socket-timeout = 600

# Path settings
chdir = /opt/chnserver/CHN-Server
pythonpath = /opt/chnserver/CHN-Server
virtualenv = /opt/chnserver/CHN-Server/venv

# User/Group
uid = chn
gid = chn

# Logging
logto = /opt/chnserver/CHN-Server/logs/uwsgi.log
log-maxsize = 20971520
log-backupname = /opt/chnserver/CHN-Server/logs/uwsgi.log.old

# Performance
vacuum = true
die-on-term = true
lazy-apps = true
single-interpreter = true

# Security
disable-logging = false
memory-report = true

# Restart conditions
max-requests = 1000
max-worker-lifetime = 3600
reload-on-rss = 512